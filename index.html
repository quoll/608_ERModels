<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paula Gearon">

<title>HW2 - Entity Relation Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-973236bd072d72a04ee9cd82dcc9cb29.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#er-diagrams" id="toc-er-diagrams" class="nav-link active" data-scroll-target="#er-diagrams">ER Diagrams</a>
  <ul class="collapse">
  <li><a href="#common-design-principles" id="toc-common-design-principles" class="nav-link" data-scroll-target="#common-design-principles">Common Design Principles</a></li>
  <li><a href="#composite-attributes" id="toc-composite-attributes" class="nav-link" data-scroll-target="#composite-attributes">Composite Attributes</a></li>
  <li><a href="#schema" id="toc-schema" class="nav-link" data-scroll-target="#schema">Schema</a></li>
  <li><a href="#library-design" id="toc-library-design" class="nav-link" data-scroll-target="#library-design">Library Design</a>
  <ul class="collapse">
  <li><a href="#domain-description" id="toc-domain-description" class="nav-link" data-scroll-target="#domain-description">Domain Description</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#library-crows-foot" id="toc-library-crows-foot" class="nav-link" data-scroll-target="#library-crows-foot">Library Crow’s Foot</a></li>
  <li><a href="#library-chen-diagram" id="toc-library-chen-diagram" class="nav-link" data-scroll-target="#library-chen-diagram">Library Chen Diagram</a></li>
  <li><a href="#schema-1" id="toc-schema-1" class="nav-link" data-scroll-target="#schema-1">Schema</a></li>
  </ul></li>
  <li><a href="#hotel-design" id="toc-hotel-design" class="nav-link" data-scroll-target="#hotel-design">Hotel Design</a>
  <ul class="collapse">
  <li><a href="#domain-description-1" id="toc-domain-description-1" class="nav-link" data-scroll-target="#domain-description-1">Domain Description</a></li>
  <li><a href="#discussion-1" id="toc-discussion-1" class="nav-link" data-scroll-target="#discussion-1">Discussion</a></li>
  <li><a href="#hotel-crows-foot" id="toc-hotel-crows-foot" class="nav-link" data-scroll-target="#hotel-crows-foot">Hotel Crow’s Foot</a></li>
  <li><a href="#hotel-chen-diagram" id="toc-hotel-chen-diagram" class="nav-link" data-scroll-target="#hotel-chen-diagram">Hotel Chen Diagram</a></li>
  <li><a href="#schema-2" id="toc-schema-2" class="nav-link" data-scroll-target="#schema-2">Schema</a></li>
  </ul></li>
  <li><a href="#school-design" id="toc-school-design" class="nav-link" data-scroll-target="#school-design">School Design</a>
  <ul class="collapse">
  <li><a href="#domain-description-2" id="toc-domain-description-2" class="nav-link" data-scroll-target="#domain-description-2">Domain Description</a></li>
  <li><a href="#discussion-2" id="toc-discussion-2" class="nav-link" data-scroll-target="#discussion-2">Discussion</a></li>
  <li><a href="#school-crows-foot-diagram" id="toc-school-crows-foot-diagram" class="nav-link" data-scroll-target="#school-crows-foot-diagram">School Crow’s Foot Diagram</a></li>
  <li><a href="#school-chen-diagram" id="toc-school-chen-diagram" class="nav-link" data-scroll-target="#school-chen-diagram">School Chen Diagram</a></li>
  <li><a href="#schema-3" id="toc-schema-3" class="nav-link" data-scroll-target="#schema-3">Schema</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HW2 - Entity Relation Models</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paula Gearon </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="er-diagrams" class="level1">
<h1>ER Diagrams</h1>
<p>This report is available on <a href="https://quoll.github.io/608_ERModels/">Github</a>, along with the <a href="https://github.com/quoll/608_ERModels/index.qmd">document source</a>.</p>
<section id="common-design-principles" class="level2">
<h2 class="anchored" data-anchor-id="common-design-principles">Common Design Principles</h2>
<p>Almost every entity in the following systems includes an <code>ID</code> attribute. Since no other constraints are mentioned, these are presumed to be integer types, which also makes them efficient to use as the primary key for their entity. The Primary Key also implies <code>NOT NULL</code> in schemas, so this is not included for those attributes.</p>
<p>Each model also includes entities that represent people. In each case, a <code>name</code> attribute is described. Names in the USA are always broken down into at least a “first” name and a “last” name, so the <code>name</code> is a composite attribute made up of these 2 sub-attributes.</p>
<p>Most attributes are required, and will be <code>NOT NULL</code>. When an attribute can be <code>NULL</code> this will be explained in the discussion for the model.</p>
<p>String attributes are generally set to <code>VARCHAR(64)</code> as this covers most names. The exceptions are described.</p>
</section>
<section id="composite-attributes" class="level2">
<h2 class="anchored" data-anchor-id="composite-attributes">Composite Attributes</h2>
<p>Composite attributes such as <code>name</code> are shown on a Crow’s Foot diagram by showing the parts of the attribute in parentheses after the primary attribute name. For instance the <code>name</code> attribute is shown as: <code>name(first,last)</code></p>
<p>This syntax is not legal in Mermaid diagrams, which was required in the main report document. To overcome this, the parts of composite attributes are displayed separately, separated from the primary attribute name with an underscore character (_): <code>name_first</code>, <code>name_last</code>. This is continued in the schemas.</p>
<p>Because underscores are used to indicate composite attributes, identifiers made of multiple words use <code>camelCase</code> to join the words into a single identifier.</p>
</section>
<section id="schema" class="level2">
<h2 class="anchored" data-anchor-id="schema">Schema</h2>
<p>The precise form of the Schema has not been described beyond the description:</p>
<p><em>entity(</em> primary key<em>, attributes …)</em></p>
<p>Since this does not explain if there is more structure available, a common structured schema description has been adopted that expands on what has been described. Some of the other features are. * data types * foreign keys are references * default values * comments</p>
<p>This looks similar to SQL, which makes it readable for database engineers, though it doest not precisely conform to any DDL.</p>
</section>
<section id="library-design" class="level2">
<h2 class="anchored" data-anchor-id="library-design">Library Design</h2>
<section id="domain-description" class="level3">
<h3 class="anchored" data-anchor-id="domain-description">Domain Description</h3>
<blockquote class="blockquote">
<p>Picture a library that needs to manage books, members, and loans. Each book has a book ID, title, and author. Members have a member ID, name, and membership date. Loans have a loan ID, loan date, and return date. A member can borrow multiple books, and each book can be borrowed by multiple members over time. Each loan is associated with a single member borrowing a single book.</p>
</blockquote>
</section>
<section id="discussion" class="level3">
<h3 class="anchored" data-anchor-id="discussion">Discussion</h3>
<p>The description specifies 3 concepts that can be modelled as entities: <strong>Books</strong>, <strong>Members</strong> and <strong>Loans</strong>. The basic attributes of each are also described. While many of the data types for these attributes can be inferred, a couple of decisions need to be made.</p>
<p>While the <code>loanDate</code> of a <code>Loan</code> is established upon creation of the loan and is therefore required, the <code>returnDate</code> can only be entered when the book is returned, so it can be <code>NULL</code>.</p>
<p>The <code>Member</code> entity includes a <code>name</code> attribute, which is a composite attribute made of <code>first</code> and <code>last</code>, as discused above.</p>
<p>The <code>title</code> of a <code>Book</code> is given more space than usual, since some book titles can include multiple words and may be long.</p>
<section id="relationships" class="level4">
<h4 class="anchored" data-anchor-id="relationships">Relationships</h4>
<p>A <code>Loan</code> describes a <code>Book</code> being lent to a <code>Member</code>. The relationships are therefore described in relation to the <code>Loan</code> entity. A <code>Loan</code> <code>lends</code> a <code>Book</code>, and a <code>Loan</code> lends <code>to_member</code> for a <code>Member</code>. The word “to” may be more in line with an English sentence, but this would make the relationship label less understandable in the context of a database table.</p>
<p>A <code>Loan</code> only exists in the context of lending a single <code>Book</code> to a single <code>Member</code>, so the both the <code>Book</code> and the <code>Member</code> are “1-and-only-1” in their relationship to a <code>Loan</code>. The participation of a <code>Loan</code> in these relationships is mandatory, since the <code>Loan</code> cannot exist without these relationships.</p>
<p>Conversely, both <code>Book</code> and <code>Member</code> entities may exist without having participated in a loan (e.g.&nbsp;a <code>Book</code> has just been purchased, or a <code>Member</code> has just joined). Therefore, their participation in a loan relationship is optional. Also, both <code>Book</code> and <code>Member</code> may be involved in multiple loans, giving them multiple cardinality in these relationships. So both have a “zero-or-many” relationship to <code>Loan</code>.</p>
</section>
</section>
<section id="library-crows-foot" class="level3">
<h3 class="anchored" data-anchor-id="library-crows-foot">Library Crow’s Foot</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/LibraryCF.png" class="img-fluid figure-img"></p>
<figcaption>Library Crow’s Foot Diagram</figcaption>
</figure>
</div>
</section>
<section id="library-chen-diagram" class="level3">
<h3 class="anchored" data-anchor-id="library-chen-diagram">Library Chen Diagram</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/LibraryChen.png" class="img-fluid figure-img"></p>
<figcaption>Library Chen Diagram</figcaption>
</figure>
</div>
</section>
<section id="schema-1" class="level3">
<h3 class="anchored" data-anchor-id="schema-1">Schema</h3>
<ul>
<li><code>Loan(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>loanID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>loanDate DATE NOT NULL DEFAULT CURRENT_DATE,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>returnDate DATE,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>toMember INT NOT NULL REFERENCES Member(memberID),</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>lends INT NOT NULL REFERENCES Book(bookID)</code><br><code>)</code></li>
<li><code>Member(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>memberID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_first VARCHAR(64) NOT NULL,  -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_last VARCHAR(64) NOT NULL,   -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>membershipDate DATE NOT NULL</code><br><code>)</code></li>
<li><code>Book(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>bookID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>title VARCHAR(64) NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>author VARCHAR(128) NOT NULL</code><br><code>)</code></li>
</ul>
</section>
</section>
<section id="hotel-design" class="level2">
<h2 class="anchored" data-anchor-id="hotel-design">Hotel Design</h2>
<section id="domain-description-1" class="level3">
<h3 class="anchored" data-anchor-id="domain-description-1">Domain Description</h3>
<blockquote class="blockquote">
<p>Consider a hotel that wants to manage rooms, guests, and bookings. Each room has a room number, type, and rate. Guests have a guest ID, name, and contact information. Bookings have a booking ID, check-in date, and check-out date. A guest can make multiple bookings, and each room can be booked multiple times over different dates. Each booking is associated with one guest and one room.</p>
</blockquote>
</section>
<section id="discussion-1" class="level3">
<h3 class="anchored" data-anchor-id="discussion-1">Discussion</h3>
<p>The description specifies 3 concepts that can be modelled as entities: <strong>Room</strong>, <strong>Guest</strong> and <strong>Booking</strong>. The basic attributes of each are also described.</p>
<p>As before, the <code>name</code> attribute of the <code>Guest</code> entity is composite, and includes both <code>first</code> and <code>last</code> component attributes. The “contact information” for a guest has been named <code>address</code> and is also composite. This includes the typical fields that are included in a person’s address, including up to two lines for the street and other information, a <code>city</code> (or county) name, a <code>state</code>, a <code>zip</code> for the postal code, and a <code>phone</code> number. All of these are left as text, since people travelling from non-USA locations may have contact information that does not conform to the usual structures found in the USA.</p>
<p>The address sub-components have some variations from the standard. While the first address line is always required, the second may be left as <code>NULL</code>. Both of these lines can occasionally require very long strings, so these are doubled to <code>VARCHAR(128)</code>. The <code>zip</code> (or post code) is almost universally short, as are phone numbers, even with area codes, formatting, and extensions. So these are set to shorter <code>VARCHAR(32)</code> strings.</p>
<p>The <code>Room</code> entity includes a rate that indicates a price for a single night of accommodation. This requires 2 decimal places to indicate cents, but it is not appropriate to represent this as a floating point number, since floating point representations do not accurately represent 2 decimal places precisely. Instead, a <code>numeric</code> domain is selected, since most databases support this for currency information.</p>
<p>The <code>type</code> on <code>Room</code> entities is likely to be only 1 to 2 words, so this is short as well.</p>
<p>Unlike most entities in these models, <code>Room</code>s do not have an ID, but instead have a unique <code>roomNumber</code>. This is expected to be an integer.</p>
<p>The <code>checkIn</code> and <code>checkOut</code> attributes for the <code>Booking</code> are in the “date” domain. Both of these are set when the booking is made, for planning purposes, and are never <code>NULL</code>.</p>
<section id="relationships-1" class="level4">
<h4 class="anchored" data-anchor-id="relationships-1">Relationships</h4>
<p>A <code>Booking</code> describes a single <code>Guest</code> staying in a single <code>Room</code>. Since this defines the <code>Booking</code>, the relationships are described from the perspective of that entity. The <code>Booking</code> is <code>forGuest</code> of a single <code>Guest</code>, and <code>forRoom</code> of a single <code>Room</code>. Consequently, the <code>Guest</code> and <code>Room</code> entities have “1-and-only-1” cardinalities for these relationships. The <code>Booking</code> participation in these relationships is mandatory.</p>
<p>A <code>Room</code> may be booked multiple times, though it is feasible that a <code>Room</code> has never been booked (especially early after the hotel has been opened). So a <code>Room</code> has optional participation in the <code>forRoom</code> relationship, and the cardinality of the reference to <code>Booking</code> is “zero-or-many”.</p>
<p>A <code>Guest</code> may stay multiple times at the hotel, however, they will not be entered into the database until they make their first booking. Consequently, a <code>Guest</code> is mandatory in the <code>forGuest</code> relationship, and the cardinality is “one-or-many”.</p>
</section>
</section>
<section id="hotel-crows-foot" class="level3">
<h3 class="anchored" data-anchor-id="hotel-crows-foot">Hotel Crow’s Foot</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/HotelCF.png" class="img-fluid figure-img"></p>
<figcaption>Hotel Crow’s Foot Diagram</figcaption>
</figure>
</div>
</section>
<section id="hotel-chen-diagram" class="level3">
<h3 class="anchored" data-anchor-id="hotel-chen-diagram">Hotel Chen Diagram</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/HotelChen.png" class="img-fluid figure-img"></p>
<figcaption>Hotel Chen Diagram</figcaption>
</figure>
</div>
</section>
<section id="schema-2" class="level3">
<h3 class="anchored" data-anchor-id="schema-2">Schema</h3>
<ul>
<li><code>Booking(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>bookingID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>checkIn DATE NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>checkOut DATE NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>forGuest INT NOT NULL REFERENCES Guest(guestID),</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>forRoom INT NOT NULL REFERENCES Room(roomNumber)</code><br><code>)</code></li>
<li><code>Guest(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>guestID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_first VARCHAR(64) NOT NULL,     -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_last VARCHAR(64) NOT NULL,      -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_line1 VARCHAR(128) NOT NULL, -- part of address</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_line2 VARCHAR(128),          -- part of address</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_city VARCHAR(64) NOT NULL,   -- part of address</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_state VARCHAR(64) NOT NULL,  -- part of address</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_zip VARCHAR(32) NOT NULL,    -- part of address</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>address_phone VARCHAR(32),           -- part of address</code><br><code>)</code></li>
<li><code>Room(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>roomNumber INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>type VARCHAR(32) NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>rate NUMERIC(6,2) NOT NULL           -- currency</code><br><code>)</code></li>
</ul>
</section>
</section>
<section id="school-design" class="level2">
<h2 class="anchored" data-anchor-id="school-design">School Design</h2>
<section id="domain-description-2" class="level3">
<h3 class="anchored" data-anchor-id="domain-description-2">Domain Description</h3>
<blockquote class="blockquote">
<p>Imagine a school that needs to manage courses, students, and enrollments. Each course has a course ID, title, and credits. Students have a student ID, name, and enrollment date. Enrollments have an enrollment ID, enrollment date, and grade. A student can enroll in multiple courses, and each course can have multiple students. Each enrollment is associated with a single student enrolling in a single course.</p>
</blockquote>
</section>
<section id="discussion-2" class="level3">
<h3 class="anchored" data-anchor-id="discussion-2">Discussion</h3>
<p>The description specifies 3 concepts that can be modelled as entities: <strong>Course</strong>, <strong>Enrollment</strong> and <strong>Student</strong>. The basic attributes of each are also described.</p>
<p>The <code>date</code> of an <code>Enrollment</code>, along with the <code>enrollmentDate</code> of a <code>Student</code> are both “date” attributes. Also, the <code>grade</code> of an <code>Enrollment</code> will be a whole number integer (a student’s GPA may be a floating point value, but this is derived). The <code>grade</code> may also be <code>NULL</code> until the course has been completed. The number of <code>credits</code> for a <code>Course</code> is also an integer, but may not be <code>NULL</code>.</p>
<p>As for each representation of a person, the <code>Student</code> entity has a composite attribute of <code>name</code>, with components of <code>first</code> and <code>last</code>.</p>
<section id="relationships-2" class="level4">
<h4 class="anchored" data-anchor-id="relationships-2">Relationships</h4>
<p>An <code>Enrollment</code> indicates a single <code>Student</code> enrolling in a single <code>Course</code>. The relation is written from the perspective of the enrollment, with names that are similar to the names of the entities they refer to. The participation of the <code>Enrollment</code> is mandatory in both the <code>student</code> and <code>course</code> relationship, and these refer to the <code>Student</code> and <code>Course</code> entities with a cardinality of “1-and-only-1”.</p>
<p>A <code>Student</code> may attend a university without having done any courses yet (particularly in a research-only degree), and they may also do multiple subjects. So the participation of a <code>Student</code> in an <code>Enrollment</code> is optional, and the cardinality of the reference to the <code>Enrollment</code> is “zero-or-many”.</p>
<p>A <code>Course</code> is presumed to only exist if students sign up to it, since a course without students will be deleted (perhaps a course can be considered to exist without enrollments for the short time it is offered before enrollments start for the semester, but this choice has not been taken here). This choice means that the participation of a <code>Course</code> in an <code>Enrollment</code> relationship is mandatory, and the cardinality of the reference to the <code>Enrollment</code> is “one-or-many”.</p>
</section>
</section>
<section id="school-crows-foot-diagram" class="level3">
<h3 class="anchored" data-anchor-id="school-crows-foot-diagram">School Crow’s Foot Diagram</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/SchoolCF.png" class="img-fluid figure-img"></p>
<figcaption>School Crow’s Foot Diagram</figcaption>
</figure>
</div>
</section>
<section id="school-chen-diagram" class="level3">
<h3 class="anchored" data-anchor-id="school-chen-diagram">School Chen Diagram</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://quoll.github.io/608_ERModels/diagrams/SchoolChen.png" class="img-fluid figure-img"></p>
<figcaption>School Chen Diagram</figcaption>
</figure>
</div>
</section>
<section id="schema-3" class="level3">
<h3 class="anchored" data-anchor-id="schema-3">Schema</h3>
<ul>
<li><code>Enrollment(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>enrollmentID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>date DATE NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>grade INT,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>student INT NOT NULL REFERENCES Student(studentID),</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>course INT NOT NULL REFERENCES Course(courseID)</code><br><code>)</code></li>
<li><code>Student(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>studentID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_first VARCHAR(64) NOT NULL,  -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>name_last VARCHAR(64) NOT NULL,   -- part of name</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>enrollmentDate DATE NOT NULL,</code><br><code>)</code></li>
<li><code>Course(</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>courseID INT PRIMARY KEY,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>title VARCHAR(64) NOT NULL,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>credits INT NOT NULL</code><br><code>)</code></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>